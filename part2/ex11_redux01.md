
## âœ… Reduxê°€ ë­ì£ ?
- Cart ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê³ , í…Œì´ë¸”ë¡œ í‘œì‹œí•´ì¤Œ
- ì—¬ê¸°ì— ì¥ë°”êµ¬ë‹ˆ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ê³  ì‹¶ìŒ
- ë°ì´í„°ë¥¼ stateë¡œ ê´€ë¦¬ í•´ì•¼ê² ì§€?
- ê·¸ëŸ°ë° í•´ë‹¹ stateê°€ app, detail ë“± ë‹¤ì–‘í•œ ê³³ì—ì„œ ì‚¬ìš©ëœë‹¤ê³  ê°€ì •í•´ë³´ë©´,
    => stateëŠ” ìµœìƒìœ„ì¸ appì— ìƒì„±ì„ í•´ì•¼í•¨
    => ê·¼ë° ì‚¬ì‹¤ ì´ë ‡ê²Œ í•˜ë©´ ë˜ props ì „ì†¡ì´ ê·€ì°®ë‹¤
    => ì´ë¥¼ í¸í•˜ê²Œ í•´ì£¼ëŠ” ğŸŒŸ Redux ğŸŒŸ

- Redux ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ë“¤ì´ props ì—†ì´ state ê³µìœ  ê°€ëŠ¥
    => redux store.js ì— stateë¥¼ ëª¨ì•„ì„œ ê´€ë¦¬
    => ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë“¤ì—ì„œ êº¼ë‚´ë‹¤ ì“¸ ìˆ˜ ìˆìŒ

- ë¨¼ì € í™•ì¸ í•˜ë‚˜
    => package.json (ì—¬ëŸ¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ ì •ë³´ ë“± ë‹´ê³ ìˆìŒ)
    => reactì™€ react-domì´ 18.1ë²„ì „ ì´ìƒì´ì–´ì•¼ redux ì •ìƒì ìœ¼ë¡œ ì‘ë™


#### â—ï¸typescript í™˜ê²½ì—ì„œ tsx íŒŒì¼ì—ì„œëŠ” ì˜¤ë¥˜ ê²ë‚˜ ë‚¨
#### ê·¸ë˜ì„œ ì¼ë‹¨ jsíŒŒì¼ë¡œ ìˆ˜ì—… ë‹¤ ë“£ê³ , reduxì™€ ì¹œí•´ì§„ í›„ì—
#### typescript ì ìš©ë°©ë²•ì„ ëª¨ìƒ‰í•  ê³„íš


<br><br>

## âœ… Redux ê¸°ë³¸ ì„¸íŒ…
- ì„¤ì¹˜í•˜ê¸°
> í„°ë¯¸ë„> npm install @reduxjs/toolkit react-redux
- react + TypeScript í™˜ê²½
> í„°ë¯¸ë„> npm install --dev @types/react-redux

<br>

- ê¸°ë³¸ ì„¸íŒ…í•˜ê¸°
1. store.js íŒŒì¼ ìƒì„±
    - src í´ë”ì— ìƒì„±
    - ì •í•´ì§„ ì½”ë“œ ë„£ì–´ì£¼ê¸°
        ```
        import { configureStore } from '@reduxjs/toolkit'

        export default configureStore({
            reducer: { }
        }) 
        ```
2. index.jsx(tsx) ì—ì„œ ì‚¬ìš©í•˜ê² ë‹¤ê³  ì„ ì–¸í•´ì£¼ê¸°
    - import í•´ì£¼ê¸°
        ```
        import { Provider } from 'react-redux';
        import store from './store';
        ```
    - BrowserRouter, App ê°ì‹¸ì£¼ê¸°
        ```
        <Provider store={store}>
            <BrowserRouter>
                <App />
            </BrowserRouter>
        </Provider>
        ```
    => ì—¬ê¸°ê¹Œì§€ë§Œ í•˜ë©´ App ì»´í¬ë„ŒíŠ¸ì™€ ëª¨ë“  ìì† ì»´í¬ë„ŒíŠ¸ì—ì„œ storeì— ë‹´ê¸´ stateë¥¼ ë§˜ëŒ€ë¡œ êº¼ë‚´ ì“¸ ìˆ˜ ìˆìŒ


<br><br>


## âœ… Reduxì— state ì €ì¥í•˜ê¸°

- store.jsíŒŒì¼ì—ì„œ createSlice ì‚¬ìš©
- createSliceëŠ” useStateì™€ ê°™ì€ ì—­í• 
- nameê³¼ initialStateë¡œ ì„ ì–¸í›„ reducerì— ê¼­ ë‹´ì•„ì£¼ê¸°!!
    ```
    import { configureStore, createSlice } from '@reduxjs/toolkit'

    // state ìƒì„±í•˜ê¸°
    // ğŸŒŸ state í•˜ë‚˜ë¥¼ sliceë¼ê³  ë¶€ë¦„!! ğŸŒŸ
    let stateì´ë¦„ = createSlice({    
        name : 'stateì´ë¦„',
        initialState : 'value'
    })
    // ì´ í˜•ì‹ì„ ìƒˆë¡œ ë§Œë“¤ì–´ ì—¬ëŸ¬ stateë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒ!! (useState ì—¬ëŸ¬ê°œ í•˜ëŠ” ê²ƒì²˜ëŸ¼)

    export default configureStore({
        reducer: {
            // ì—¬ê¸° ê¼­ ë“±ë¡í•´ì¤˜ì•¼í•¨
            ì‘ëª… : stateì´ë¦„.reducer
        }
    }) 
    ```

## âœ… ì €ì¥ëœ state êº¼ë‚´ì˜¤ê¸°
- ì¼ë°˜ íŒŒì¼ì—ì„œ
- useSelector importí•´ì„œ ì‚¬ìš©
    ```
    import { useSelector } from "react-redux";
    function Cart(){
        // Redux storeì— ìˆë˜ ëª¨ë“  stateê°€ ë“¤ì–´ì˜´
        let states = useSelector((state)=>{ return state })
        console.log(states) // => ëª¨ë“  state ì˜¤ë¸Œì íŠ¸ë¡œ ë‹´ê²¨ìˆìŒ
        console.log(states.stateì´ë¦„) // => í•´ë‹¹ ì´ë¦„ stateê°€ ì°í˜
        ...
    }
    ```

## âœ… useSelector í¸í•˜ê²Œ ì“°ë ¤ë©´
```
let states = useSelector((state)=>{ return state })
```
- useSelector ì•ˆì— í™”ì‚´í‘œí•¨ìˆ˜ëŠ” ì •í•´ì§„ ê·œì¹™ì¸ë°,
- íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ” stateëŠ” store ì•ˆì— ìˆë˜ ëª¨ë“  state
- ê·¸ë˜ì„œ returnë¬¸ì—ì„œë¶€í„° íŠ¹ì • stateë¥¼ ì§€ì •í•˜ë©´ ë³€ìˆ˜ì—ë„ í•´ë‹¹ ë‚´ìš©ë§Œ ë‹´ê¸´ë‹¤!!
```
// íŠ¹ì • stateë¥¼ ë³€ìˆ˜ì— ë‹´ê¸°
let states = useSelector((state)=>{ return state.íŠ¹ì •state })
```
+) í™”ì‚´í‘œ í•¨ìˆ˜ íŠ¹ì„±ìƒ ì¤‘ê´„í˜¸ì™€ return ìƒëµê°€ëŠ¥


### ì°¸ê³ ì‚¬í•­
- redux í¸í•œë° props ì™œì”€??
    => ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬, ë“±ë¡ ë“± ì½”ë“œê°€ ê°„ë‹¨í•œ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë” ë³µì¡
- ëª¨ë“  stateë¥¼ Redux storeì— ë„£ì„ í•„ìš”ëŠ” ì—†ë‹¤
    => ë”± í•œ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ì“°ë©´ êµ³ì´ ì¨ì•¼í•  ì´ìœ ê°€ ì—†ë‹¤


<br><br>


## âœ… State ë³€ê²½í•˜ê¸°
- createSliceì—ì„œ state ìˆ˜ì • í•¨ìˆ˜ ë§Œë“¤ê³ ,
- ì›í•  ë•Œ ê·¸ í•¨ìˆ˜ ì‹¤í–‰í•´ë‹¬ë¼ê³  store.jsì— ìš”ì²­
- ìˆœì„œëŒ€ë¡œ ë´ë³´ìë©´
    1. state ìˆ˜ì • í•¨ìˆ˜ ë§Œë“¤ì–´ì£¼ê¸°
        ```
        let stateì´ë¦„ = createSlice({    
            name : 'stateì´ë¦„',
            initialState : 'value',
            // state ìˆ˜ì •í•¨ìˆ˜
            reducers : {
                ìˆ˜ì •í•¨ìˆ˜ì´ë¦„(ğŸ”¸íŒŒë¼ë¯¸í„° ë„£ìœ¼ë©´ ê¸°ì¡´ state ë‹´ê¹€ğŸ”¸){
                    return 'new value';
                }
            }
        })
        ```
    2. ë§Œë“  í•¨ìˆ˜ export í•´ì£¼ê¸°
        ```
        stateì´ë¦„.actions
        // state ë³€ê²½ í•¨ìˆ˜ë“¤ì´ ë‹´ê¹€

        // ê´€ìŠµì ìœ¼ë¡œ Destructuring ì‚¬ìš©
        export let {setState, changeState, ...} = stateì´ë¦„.actions;
        ```
    3. ë§Œë“  í•¨ìˆ˜ useDispatchì™€ í•¨ê»˜ import í•´ì„œ ì‚¬ìš©
        - useDispatchëŠ” store.jsì— ìš”ì²­ì„ ë³´ë‚´ì£¼ëŠ” í•¨ìˆ˜
        - useDispatchëŠ” ìš”ì²­ë§Œ, ì‹¤í–‰ì€ store.jsê°€!!
        - import í•˜ê¸°
            ```
            // ë³€ê²½í•¨ìˆ˜ import
            import setState from '/storeê²½ë¡œ'

            // useDispatch import
            import {useDispatch} from "react-redux";
            ```
        - ì‚¬ìš©í•˜ê¸°
            ```
            // ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ useDispatch
            let dispatch = useDispatch();

            // dispatchë¡œ importí•œ ë³€ê²½í•¨ìˆ˜ ì‚¬ìš©
            <button onClick={()=>{
                dispatch(setState());
            }}> change </button>
            ```

- ë°©ë²•ì´ ë‹¤ì†Œ ë³µì¡í•´ ë³´ì´ëŠ”ë°,
- ì •í•´ì§„ í˜•ì‹ì´ë¼ ì–´ì©”ìˆ˜ ì—†ìŒ
- ê·¸ë¦¬ê³  ì‚¬ì‹¤ìƒ ì‚¬ì´ì¦ˆê°€ ì»¤ì§€ë‹¤ë³´ë©´ ë²„ê·¸ ë°©ì§€ë“± ì¥ì ì´ ë§ìŒ
    => ë‹¤ì–‘í•œ ì»´í¬ë„ŒíŠ¸ê°€ stateë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ë ¤ë‹¤ë³´ë©´ ë²„ê·¸ ë°œìƒì‹œ ì›ì¸ ì°¾ê¸° ì–´ë ¤ì›€
    => ìˆ˜ì •í•¨ìˆ˜ë¥¼ í†µí•˜ë©´ ë²„ê·¸ ì¶”ì ì´ ìš©ì´ (state ì´ìƒí•´ì§€ë©´ store.jsì˜ ìˆ˜ì •í•¨ìˆ˜ë§Œ ë¬¸ì œ!!)


<br><br>


## âœ… Array, Object ìë£Œí˜• State ë³€ê²½í•˜ê¸°
- í•˜ë“œì½”ë”©ìœ¼ë¡œ í•˜ìë©´ reducers ë‚´ë¶€ í•¨ìˆ˜ì—ì„œ ë¦¬í„´ë¬¸ì— ë„£ì–´ì£¼ë©´ ë¨
```
let user = createSlice({
  name : 'user',
  initialState : {name : 'kim', age : 27},
  reducers : {
    setName(){
        return {name : 'Yu', age : 27}
    }
  }
```
- ê·¼ë° ì‚¬ì‹¤ Array / Objectì˜ ê²½ìš° ì§ì ‘ ìˆ˜ì •í•´ë„ stateê°€ ë³€ê²½ë¨
```
  reducers : {
    setName(state){
        state.name = 'Yu'
    }
  }
```
- ì •í™•íˆëŠ” í•¨ê»˜ ì„¤ì¹˜ëœ Immer.jsì˜ ë„ì›€
- ì´ì²˜ëŸ¼ ë°°ì—´ê³¼ ê°ì²´ ìë£Œí˜•ì˜ ìˆ˜ì •ì´ ë” í¸ë¦¬í•˜ê¸° ë•Œë¬¸ì— ë‹¨ì¼ê°’ë„ ë°°ì—´ì´ë‚˜ ê°ì²´ì— ë„£ëŠ” ê²½ìš°ë„ ìˆìŒ

<br>

### ğŸ”¹ State ë³€ê²½í•¨ìˆ˜ì— íŒŒë¼ë¯¸í„° ëš«ê¸°
- state ë³€ê²½í•¨ìˆ˜ì— íŒŒë¼ë¯¸í„° í•˜ë‚˜ ë„£ìœ¼ë©´ ìë™ìœ¼ë¡œ state ë‹´ê¸°ì§€ë§Œ,
- í•˜ë‚˜ ë” ë„£ì–´ì£¼ë©´ íŒŒë¼ë¯¸í„° ìë¦¬ë¥¼ ë§Œë“¤ì–´ ì¤„ ìˆ˜ ìˆìŒ
- ê·¸ë¦¬ê³  ë³€ê²½í•¨ìˆ˜ ë‚´ë¶€ì—ì„œëŠ” í•´ë‹¹ íŒŒë¼ë¯¸í„° ë³€ìˆ˜ì— ğŸŒŸ .payload ğŸŒŸ ë¥¼ ë¶™ì—¬ì¤˜ì•¼ ì •ìƒì ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥!!!
    => dispatchë¡œ ì „ì†¡í•˜ëŠ” ë©”ì‹œì§€ì— í™”ë¬¼ì„ ì‹¤ì–´ ë³´ë‚´ëŠ” í˜•ì‹
- ê´€ìŠµì ìœ¼ë¡œ íŒŒë¼ë¯¸í„° ì´ë¦„ì€ 'action'ìœ¼ë¡œ ì‘ëª…
    => í™”ë¬¼ ë¿ë§Œ ì•„ë‹ˆë¼ ì—¬ëŸ¬ê°€ì§€ action( == ë³€ê²½í•¨ìˆ˜)ì— ëŒ€í•œ ì •ë³´ë„ ë“¤ì–´ìˆê¸° ë•Œë¬¸ì—
```
let user = createSlice({
  name : 'user',
  initialState : {name : 'kim', age : 27},
  reducers : {
    agePlus(state, action){
        state.age += action.payload;
    }
  }`
```


<br><br>


## âœ… íŒŒì¼ ë¶„í• í•˜ê¸°
- ì½”ë“œê°€ ê¸¸ì–´ì§€ë©´ import, export í™œìš©í•˜ìŸˆ!!
- src ë‚´ë¶€ì— í´ë” ë§Œë“¤ì–´ì„œ ì‚¬ìš©



- ìˆ™ì œ1
  - => ë³€ê²½í•˜ê¸° ë²„íŠ¼ìœ¼ë¡œ ìˆ˜ëŸ‰ ì¶”ê°€
  - ê·¼ë° ê·¸ëƒ¥ í•´ë‹¹ ì¹¸ì— ëŒ€í•œ ì •ë³´ë¡œ ì¶”ê°€í•˜ë©´ ì •ë ¬ì— ë”°ë¼ ëŒ€ìƒ ë°”ë€œ
  - ë²„íŠ¼ ëˆ„ë¥´ë©´ í•´ë‹¹ í–‰ì˜ id ê°’ì„ ë„˜ê²¨ì¤˜ì„œ ë¹„êµí•  ìˆ˜ ìˆê² ì§€?

- ìˆ™ì œ2
  - /detailì—ì„œ ì£¼ë¬¸í•˜ê¸° ëˆ„ë¥´ë©´ ì •ë³´ ì¥ë°”êµ¬ë‹ˆëŸ¬ ë„˜ì–´ê°€ê¸°
  - state ì„¤ì •ì—ì„œ ë„£ì–´ì£¼ë©´ ë˜ì§€ ì•Šê² ë‹ˆ??


ì‘ìš©1. í‘œì˜ í–‰ë§ˆë‹¤ ì‚­ì œë²„íŠ¼ ë§Œë“¤ê³  ê·¸ê±° ëˆ„ë¥´ë©´ ìƒí’ˆì´ ì‚­ì œë˜ê²Œ ë§Œë“¤ë ¤ë©´?

ì‘ìš©2. ì£¼ë¬¸í•˜ê¸° ë²„íŠ¼ ëˆ„ë¥¼ ë•Œ ì´ë¯¸ ìƒí’ˆì´ stateì•ˆì— ìˆìœ¼ë©´ ì¶”ê°€ê°€ ì•„ë‹ˆë¼ ê¸°ì¡´ í•­ëª© ìˆ˜ëŸ‰ì¦ê°€ë§Œ?